<!DOCTYPE html>
<html lang="{{ with .Site.LanguageCode }}{{ . }}{{ else }}en-US{{ end }}">
	<head>
        {{ partial "head.html" . }}
        {{ template "_internal/google_analytics.html" . }}
	</head>
	<body>
		<div class="container">	
            {{ partial "header.html" . }}
			<div class="main">
				<ul id="og-grid" class="og-grid">
					{{ range ( where .Site.Pages "Section" "source") }}
					<li>
						<a href="{{ .Params.source }}" data-largesrc="{{.Params.image}}" data-title="{{.Params.name}}" data-description="{{.Params.description }}">
                            <div class="box">
                                <img src="{{.Params.image}}" onerror="randomizer(this)">
                                <p>
                                    {{.Params.name}}
                                </p>
                            </div>
						</a>
					</li>
					{{ end }}
				</ul>
				{{ partial "footer.html" . }}
			</div>
		</div>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
		{{ partial "scripts.html" . }}
        <script>
            function randomizer(e){
                var box = e.parentNode
                box.removeChild(e)
                box.style.width = "250px"
                box.style.backgroundColor = "hsl(" + Math.random()*Math.random()*(1<<30)%360 + ", 55%, 45%)"
            }
        </script>
	</body>
</html>